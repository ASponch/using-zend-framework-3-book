<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="A free and open-source book about Zend Framework 3">
<meta name="keywords" content="zend framework,book,free book,zend framework book,free zend framework book,zf3 book,free zf3 book,zend book,tutorial,zend framework tutorial">
<meta name="author" content="(c) 2016 by Oleg Krivtsov">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../favicon.ico" rel="shortcut icon" type="image/ico" />
<link href="../assets/css/style.css" type="text/css" rel="stylesheet" />
<title>Form Elements -- Using Zend Framework 3</title>
</head>
<body>
<header>
    <div class="header">
        <div class="header-body">
            <div class="book-title">
                <a href="../index.html">Using Zend Framework 3</a>
            </div>
            <div class="book-subtitle">
                A free and open-source book about Zend Framework 3            </div>
            <nav>
                <div class="menu">
                                        <div class="link">
                        <a href="https://olegkrivtsov.github.io/using-zend-framework-3-book/html">Read</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zf3-book-samples">Samples</a>
                    </div>
                                        <div class="link">
                        <a href="https://github.com/olegkrivtsov/using-zend-framework-3-book">Contribute</a>
                    </div>
                    
                </div>
            </nav>
        </div>    
    </div>
</header>    
<div id="container">
<!-- Navigation -->
<div class="navigation">
    <div class="prev-chapter">
        
        <a href="A_Form_Model.html">
            <img alt="Previous Chapter" src="../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="toc.html">
            <img alt="Contents" src="../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="Example__Creating_the_Contact_Form_Model.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../assets/images/right.png">
        </a>
            </div>    
</div>

ï»¿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Book - Chapter - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="4531860323"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- Chapter content -->
<div id="chapter_content">

<h2 id="header-157">7.7. Form Elements</h2>
<p>In a form model, an input field is typically paired with the text label (<code>&lt;label&gt;</code> and <code>&lt;input&gt;</code> tags are 
used together). Such a pair is also called a form model's <em>element</em>.</p>
<p>Analogous to an HTML form field, a form model's element may contain the name and other (optional) 
attributes (e.g. "id", "class", etc.) Additionally, you may set <em>options</em> to an element;
the options mostly allow you to specify the text and attributes for the element's label.</p>
<p>All form model's elements are inherited from the base class <code>Element</code> which also belongs
to the <code>Zend\Form</code> component. The <code>Element</code> base class implements the <code>ElementInterface</code> interface. 
The class inheritance diagram is shown in figure 7.11.</p>
<p><span class="image-wrapper">
<a target="_blank" href="images/forms/form_element_inheritance.png">
<img src="images/forms/form_element_inheritance.png" alt="Figure 7.11. Form element class inheritance" /></a>
<span class="image-caption">Figure 7.11. Form element class inheritance</span>
</span>
</p>
<p>Concrete form element classes extend the <code>Element</code> base class. They are listed in tables 7.3 - 7.7. 
These classes live in the <code>Zend\Form\Element</code> namespace.</p>
<div class="table-wrapper">
<div class="table-caption">Table 7.3. Form elements compatible with HTML 4</div><table>
<thead>
<tr>
<th> <em>Class name</em>                   </th>
<th> <em>Description</em>                                                 </th>
</tr>
</thead>
<tbody>
<tr>
<td>  <code>Button</code>                       </td>
<td>  Button.                                                       </td>
</tr>
<tr>
<td> <code>Checkbox</code>                     </td>
<td> Check box.                                                    </td>
</tr>
<tr>
<td> <code>File</code>                         </td>
<td> File field.                                                   </td>
</tr>
<tr>
<td> <code>Hidden</code>                       </td>
<td> Hidden field.                                                 </td>
</tr>
<tr>
<td> <code>Image</code>                        </td>
<td> Image field.                                                  </td>
</tr>
<tr>
<td> <code>Password</code>                     </td>
<td> Password field.                                               </td>
</tr>
<tr>
<td> <code>Radio</code>                        </td>
<td> Radio button.                                                 </td>
</tr>
<tr>
<td> <code>Select</code>                       </td>
<td> Dropdown list.                                                </td>
</tr>
<tr>
<td> <code>Submit</code>                       </td>
<td> Submit button.                                                </td>
</tr>
<tr>
<td> <code>Text</code>                         </td>
<td> General-purpose text input field.                             </td>
</tr>
<tr>
<td> <code>Textarea</code>                     </td>
<td> Multi-line text area.                                         </td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper">
<div class="table-caption">Table 7.4. Form elements compatible with HTML 5</div><table>
<thead>
<tr>
<th> <em>Class name</em>                   </th>
<th> <em>Description</em>                                                 </th>
</tr>
</thead>
<tbody>
<tr>
<td>  <code>Color</code>                        </td>
<td>  Color picker.                                                 </td>
</tr>
<tr>
<td> <code>Date</code>                         </td>
<td> Date picker.                                                  </td>
</tr>
<tr>
<td> <code>DateTime</code>                     </td>
<td> Date &amp; time (with time zone).                                 </td>
</tr>
<tr>
<td> <code>DateTimeLocal</code>                </td>
<td> Date &amp; time (without time zone).                              </td>
</tr>
<tr>
<td> <code>Email</code>                        </td>
<td> E-mail field.                                                 </td>
</tr>
<tr>
<td> <code>Month</code>                        </td>
<td> Month input field.                                            </td>
</tr>
<tr>
<td> <code>Number</code>                       </td>
<td> A text input field accepting numbers.                         </td>
</tr>
<tr>
<td> <code>Time</code>                         </td>
<td> Text input field for entering time.                           </td>
</tr>
<tr>
<td> <code>Url</code>                          </td>
<td> Text input field for entering an URL.                         </td>
</tr>
<tr>
<td> <code>Week</code>                         </td>
<td> Text input field for entering days of week.                   </td>
</tr>
<tr>
<td> <code>Range</code>                        </td>
<td> Range field (slider).                                         </td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper">
<div class="table-caption">Table 7.5. Compound fields</div><table>
<thead>
<tr>
<th> <em>Class name</em>                   </th>
<th> <em>Description</em>                                                 </th>
</tr>
</thead>
<tbody>
<tr>
<td>  <code>MultiCheckbox</code>                </td>
<td>  A group of related check boxes.                               </td>
</tr>
<tr>
<td> <code>DateTimeSelect</code>               </td>
<td> Date &amp; time select.                                           </td>
</tr>
<tr>
<td> <code>DateSelect</code>                   </td>
<td> Date select.                                                  </td>
</tr>
<tr>
<td> <code>MonthSelect</code>                  </td>
<td> Month select.                                                 </td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper">
<div class="table-caption">Table 7.6. Security Form Elements</div><table>
<thead>
<tr>
<th> <em>Class name</em>                   </th>
<th> <em>Description</em>                                                 </th>
</tr>
</thead>
<tbody>
<tr>
<td>  <code>Captcha</code>                      </td>
<td>  Human check image.                                            </td>
</tr>
<tr>
<td> <code>Csrf</code>                         </td>
<td> Cross-site request forgery prevention.                        </td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper">
<div class="table-caption">Table 7.7. Other Form Elements</div><table>
<thead>
<tr>
<th> <em>Class name</em>                   </th>
<th> <em>Description</em>                                                 </th>
</tr>
</thead>
<tbody>
<tr>
<td>  <code>Collection</code>                   </td>
<td>  Element collection.                                           </td>
</tr>
</tbody>
</table>
</div>
<p>In the tables above, you can see that the ZF3-provided form elements have direct mapping on HTML4 
and HTML5 input fields (discussed in the beginning of this chapter). </p>
<p>For your convenience, ZF3 also provides several "compound" fields. The
<code>MultiCheckbox</code> field is a field which is composed of a group of typical checkboxes related to
each other. The <code>DateTimeSelect</code>, <code>DateSelect</code>, and <code>MonthSelect</code> elements are analogous to corresponding
HTML5 elements, but simulate them with the usual select fields. These input fields have an advantage in that they
are supported by all web browsers, unlike the corresponding HTML5 fields. The visual representation of 
these elements can be seen in figure 7.12.</p>
<p><span class="image-wrapper">
<a target="_blank" href="images/forms/compound_form_fields.png">
<img src="images/forms/compound_form_fields.png" alt="Figure 7.12. Compound form fields" /></a>
<span class="image-caption">Figure 7.12. Compound form fields</span>
</span>
</p>
<p>Additionally, ZF3 provides "security" form fields <code>Captcha</code> and <code>Csrf</code> which
can be used on a form for enhancing the security. The <code>Captcha</code> element is a graphical element (image)
that is placed on a form for checking if the site user is a human or a robot. The <code>Csrf</code> element has
no visual representation and is used for 
prevention of hacker attacks related to cross-site request forgery <sup id="fnref:csrf"><a href="#fn:csrf" class="footnote-ref" rel="footnote">20</a></sup>. </p>
<footnotes id="fn:csrf"><p><sup>20)</sup> Cross-site request forgery (CSRF) is a type of malicious exploit of 
a website whereby unauthorized commands are transmitted from a user 
that the website trusts.</p>
</footnotes>
<p>There is another special form element called <code>Collection</code>. This element is analogous to fieldset,
because it allows you to group related form elements. But, it is designed for adding form elements dynamically by binding
an array of objects to the form. </p>
<h3 id="header-158">7.7.1. Adding Elements to a Form Model</h3>
<p>The methods inherited by the <code>Form</code> base class from the <code>Fieldset</code> class are used to 
add elements (and fieldsets) to the form model. These methods are summarized in the table 7.8.</p>
<div class="table-wrapper">
<div class="table-caption">Table 7.8. Methods provided by the Fieldset class</div><table>
<thead>
<tr>
<th> <em>Method name</em>                    </th>
<th> <em>Description</em>                                                 </th>
</tr>
</thead>
<tbody>
<tr>
<td>  <code>add($elementOrFieldset, $flags)</code></td>
<td>  Attaches an element (or fieldset).                            </td>
</tr>
<tr>
<td> <code>has($elementOrFieldset)</code>        </td>
<td> Checks whether certain element is attached.                   </td>
</tr>
<tr>
<td> <code>get($elementOrFieldset)</code>        </td>
<td> Retrieves the given element (or fieldset) by name.            </td>
</tr>
<tr>
<td> <code>getElements()</code>                  </td>
<td> Retrieves all attached elements.                              </td>
</tr>
<tr>
<td> <code>getFieldsets()</code>                 </td>
<td> Retrieves all attached fieldsets.                             </td>
</tr>
<tr>
<td> <code>count()</code>                        </td>
<td> Return the count of attached elements/fieldsets.              </td>
</tr>
<tr>
<td> <code>remove($elementOrFieldset)</code>     </td>
<td> Removes the element (or fieldset).                            </td>
</tr>
</tbody>
</table>
</div>
<p>Particularly, we are interested in the <code>add()</code> method which is used to attach
an element to a form. The <code>add()</code> method takes two arguments: the first one (named <code>$elementOrFieldset</code>)
is an element to insert, and the second one (named <code>$flags</code>) is the optional flags. </p>
<p>The <code>$elementOrFieldset</code> parameter may either be an instance of an 
<code>Element</code>-derived class (or the <code>Fieldset</code> class), or an array describing the element that 
should be created. </p>
<p>The optional <code>$flags</code> argument is an array which may contain a combination of the following keys: <code>name</code> 
(allows you to set the element's name) and <code>priority</code> (allows to specify the zero-based 
index in the list of elements to insert the element to. If the priority flag is not 
specified, the element will be inserted at the end of the list of the form model's elements.</p>
<p>Below, we provide two code examples illustrating the possible ways of adding
elements to a form. </p>
<h3 id="header-159">7.7.2. Method 1: Passing an Instance of an Element</h3>
<p>The following code fragment creates an instance of the <code>Zend\Form\Element\Text</code> class
and adds the element to the form model:</p>
<pre class="line-numbers"><code class="language-php">&lt;?php
namespace Application\Form;

// Define an alias for the class name
use Zend\Form\Form;
use Zend\Form\Element\Text;

// A feedback form model
class ContactForm extends Form
{
  // Constructor.   
  public function __construct()
  {
    // Create the form fields here ...	
    $element = new Text(
                'subject',            // Name of the element
                [                     // Array of options
                 'label'=&gt; 'Subject'  // Text label
                ]);
    $element-&gt;setAttribute('id', 'subject');

    // Add the "subject" field to the form
    $this-&gt;add($element);
  }
}
</code></pre>
<p>In the code above, we've created an instance of the <code>Zend\Form\Element\Text</code> class (line 15). The
class constructor takes two parameters: the element's name ("subject") and an array of options 
(here we specify the text label "Subject").</p>
<p>Additionally, you may configure the element using the methods provided by the <code>Element</code> base class.
For example, in line 20, we set the "id" attribute with the <code>setAttribute()</code> method. For your reference, 
the (most important) methods of the <code>Element</code> base class which can be used for
configuring a form element are presented in table 7.9.</p>
<div class="table-wrapper">
<div class="table-caption">Table 7.9. Methods provided by the Element class</div><table>
<thead>
<tr>
<th> <em>Method name</em>                    </th>
<th> <em>Description</em>                                                 </th>
</tr>
</thead>
<tbody>
<tr>
<td>  <code>setName($name)</code>                 </td>
<td>  Sets element's name.                                          </td>
</tr>
<tr>
<td> <code>getName()</code>                      </td>
<td> Retrieves element's name.                                     </td>
</tr>
<tr>
<td> <code>setOptions($options)</code>           </td>
<td> Sets options.                                                 </td>
</tr>
<tr>
<td> <code>getOptions($options)</code>           </td>
<td> Retrieves options.                                            </td>
</tr>
<tr>
<td> <code>getOption($option)</code>             </td>
<td> Retrieves the given option.                                   </td>
</tr>
<tr>
<td> <code>setAttribute($key, $value)</code>     </td>
<td> Sets a single element attribute.                               </td>
</tr>
<tr>
<td> <code>getAttribute($key)</code>             </td>
<td> Retrieves a single element attribute.                          </td>
</tr>
<tr>
<td> <code>removeAttribute($key)</code>          </td>
<td> Removes an attribute.                                         </td>
</tr>
<tr>
<td> <code>hasAttribute($key)</code>             </td>
<td> Checks whether such an attribute presents.                    </td>
</tr>
<tr>
<td> <code>setAttributes($arrayOrTraversable)</code></td>
<td> Removes an attribute.                                      </td>
</tr>
<tr>
<td> <code>getAttributes()</code>                </td>
<td> Retrieves all attributes at once.                              </td>
</tr>
<tr>
<td> <code>clearAttributes()</code>              </td>
<td> Removes all attributes at once.                               </td>
</tr>
<tr>
<td> <code>setValue()</code>                     </td>
<td> Sets the element value.                                         </td>
</tr>
<tr>
<td> <code>getValue()</code>                     </td>
<td> Retrieves the element value.                                    </td>
</tr>
<tr>
<td> <code>setLabel()</code>                     </td>
<td> Sets the label used for this element.                           </td>
</tr>
<tr>
<td> <code>getLabel()</code>                     </td>
<td> Retrieves the label string used for this element.              </td>
</tr>
<tr>
<td> <code>setLabelAttributes()</code>           </td>
<td> Sets the attributes to use with the label.                     </td>
</tr>
<tr>
<td> <code>getLabelAttributes()</code>           </td>
<td> Gets the attributes to use with the label.                    </td>
</tr>
<tr>
<td> <code>setLabelOptions()</code>              </td>
<td> Sets label specific options.                                  </td>
</tr>
<tr>
<td> <code>getLabelOptions()</code>              </td>
<td> Retrieves label specific options.                             </td>
</tr>
</tbody>
</table>
</div>
<h3 id="header-160">7.7.3. Method 2: Using Array Specification</h3>
<p>The second example below (equivalent to the first one) shows how to use an 
array specification to add an element to form. This method is preferable, because
it requires less code to write.</p>
<blockquote class="notquote information" data-type="information"><p> When using array specification for adding an element to a form, the element will 
 be instantiated and configured automatically. Internally, this is accomplished with the 
 help of the <code>Zend\Form\Factory</code> factory class (illustrated by figure 7.13).</p>
</blockquote><p><span class="image-wrapper">
<a target="_blank" href="images/forms/factory_graph.png">
<img src="images/forms/factory_graph.png" alt="Figure 7.13. The logic of the add() method" /></a>
<span class="image-caption">Figure 7.13. The logic of the add() method</span>
</span>
</p>
<pre class="line-numbers"><code class="language-php">&lt;?php
namespace Application\Form;

// Define an alias for the class name
use Zend\Form\Form;

// A feedback form model
class ContactForm extends Form
{
  // Constructor.   
  public function __construct()
  {
    // Add "subject" field
    $this-&gt;add([
      'type'  =&gt; 'text',        // Element type
      'name' =&gt; 'subject',      // Field name
      'attributes' =&gt; [         // Array of attributes
        'id'  =&gt; 'subject',     
      ],
      'options' =&gt; [            // Array of options
         'label' =&gt; 'Subject',  // Text label
      ],
    ]);    
  }
}
</code></pre>
<p>In line 14 above, we call the form model's <code>add()</code> method to add the element to form.
We pass the element specification to the <code>add()</code> method in the form of an array. The array 
has the following typical keys:</p>
<ul>
<li><p>the <code>type</code> key (line 15) defines the class name to use for instantiation of the element. Here you
can use either the fully qualified class name (e.g. <code>Text::class</code>) or its short alias <sup id="fnref:alias"><a href="#fn:alias" class="footnote-ref" rel="footnote">21</a></sup> (e.g. "text").</p>
</li>
<li><p>the <code>name</code> key (line 16) defines the name for the field ("subject").</p>
</li>
<li><p>the <code>attributes</code> key (line 17) defines the list of HTML attributes to set (here we set the "id" attribute).</p>
</li>
<li><p>the <code>options</code> array (line 18) allows you to specify the text label for the element.</p>
</li>
</ul>
<footnotes id="fn:alias"><p><sup>21)</sup> If you are confused where we take element aliases from, than you should
know that they are defined inside of the <code>Zend\Form\FormElementManager</code> class.</p>
</footnotes>
        
</div>

<!-- Ads -->
<div id="ads-chapter-bottom">
<div>
ï»¿<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Using Zend Framework 3 Chapter - Bottom - Adaptive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-3933778336056438"
     data-ad-slot="1546211126"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</div>
    
<!-- Navigation -->
<div class="navigation">
    <div class="prev-chapter">
        
        <a href="A_Form_Model.html">
            <img alt="Previous Chapter" src="../assets/images/left.png"><span class="nav-btn-text">Previous</span>
        </a>
        </div>    
    <div class="contents">
        <a href="toc.html">
            <img alt="Contents" src="../assets/images/book.png"><span class="nav-btn-text">Contents</span>
        </a>
    </div>
    <div class="next-chapter">
                <a href="Example__Creating_the_Contact_Form_Model.html">
            <span class="nav-btn-text">Next</span><img alt="Next Chapter" src="../assets/images/right.png">
        </a>
            </div>    
</div>

<div id="disqus_thread"></div>

        
</div>
<footer>
    <div class="footer">
        <div class="footer-body">
            <div class="copyright">
                Copyright (c) 2016 by Oleg Krivtsov            </div>
            <div class="generated-by">
                Generated using <a href="https://github.com/olegkrivtsov/openbook">OpenBook</a> on 2016-08-26 at 02:43            </div>
        </div>    
    </div>
</footer>

<a href="#0" class="cd-top">Top</a>

<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/loadCSS.js"></script>

<script src="../assets/js/prism.js"></script>

<script>
var disqus_config = function () {
this.page.url = window.location.href; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = ''; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//using-zend-framework-3-book.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
<script>
loadCSS("../assets/css/prism.css");
</script>

<script>
jQuery(document).ready(function($){
    // browser window scroll (in pixels) after which the "back to top" link is shown
    var offset = 300,
    //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
    offset_opacity = 1200,
    //duration of the top scrolling animation (in ms)
    scroll_top_duration = 700,
    //grab the "back to top" link
    $back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
            ( $(this).scrollTop() > offset ) ? $back_to_top.addClass('cd-is-visible') : $back_to_top.removeClass('cd-is-visible cd-fade-out');
            if( $(this).scrollTop() > offset_opacity ) { 
                    $back_to_top.addClass('cd-fade-out');
            }
    });

    //smooth scroll to top
    $back_to_top.on('click', function(event){
            event.preventDefault();
            $('body,html').animate({
                    scrollTop: 0 ,
                    }, scroll_top_duration
            );
    });

});
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-80824388-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>    

